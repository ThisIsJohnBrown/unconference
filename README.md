![shapes2](src/assets/shapes2.png)

# unconference
## A new take on conferences during remote times

This is a project for the [#HackingFromHome Hackathon](https://mattermost.com/hackfest2020/).

This project is inspired by the unconferences of the past, in the before times, when we could gather together to learn from each other and share ideas. That has become so hard during the Covid-19 moment we're living through, because there aren't many directly interactive spaces for this sort of conversation.

This is the frontend website portion of the project. It will be hosted at [unconference.dev](https://unconference.dev).

![shapes1](src/assets/shapes1.png)

## Technologies

Made with [VueJS](https://vuejs.org/) and [Vuetify](https://vuetifyjs.com/) frontend, a [Firestore](https://firebase.google.com/products/firestore) backend, and [Vuexfire](https://vuefire.vuejs.org/vuexfire/) for binding it all together.

Please combine with [this forked version of jitsi-meet](https://github.com/thisisJohnBrown/jitsi-meet), in order to get the added features and functionality of syncing views between participants.

## Config files

You will need a `firebase.config.js` file in order to run this project. This can be retrieved from the Firebase admin.

## Setup - Vue CLI
```
yarn install
```

### Compiles and hot-reloads for development
```
yarn serve
```

## Firebase setup
You will need to set up a Firebase app that has Firestore and Authentication. I used both Email and Google authentication.

You will need two Firestore collections
```
// users - user details to accompany authentication
{
    displayName: string,
    email: string,
    verified: boolean,
    username: string,
    avatar: string,
    watched: array[string],  // ids of sessions the user is watching
    joined: array[string] // ids of sessions the user attended
}

// sessions - details about user created sessions
{
    title: string,
    active: boolean, // toggled when a session is started
    slug: string, // autogenerated based on title
    startTime: firestore.Timestamp,
    endTime: firestore.Timestamp,
    type: string, // types: model, panel, discussion
    details: string,
    created_by: string, // id of the user who created the session
    tags: array[string],
    handsRaised: array[object], // Jitsi info and user details of participants
    questions: array[object], // Jitsi info and user details of participants
    visible: array[string], // Jitsi ids of participants
    kicked: array[string] // Jitsi ids of participants
}
```

## Generators

There are some lightweight generators included for creating an entire conference for testing, mainly using [Faker](https://marak.github.io/faker.js/index.html).

`node src/generators.js --clearUsers` -- Delete all users, both email and Google authenticated

`node src/generators.js --clearSessions` -- Delete all sessions

`node src/generators.js --users=5` -- Generate email authenticated users

`node src/generators.js --sessions=20` -- Generate sessions within an hour before or after the current time (must have users before running this step)

## Jitsi

You will need to be running [this forked version of jitsi-meet](https://github.com/thisisJohnBrown/jitsi-meet). This has two specific additions, new commands available in `external_apis.js`.

`toggleParticipant` - Allows for the hiding of the video panel of participants in TileView. Creates a synced panel environment and disables the ability for those toggled off from unmuting.

`setSpeakerView` - Forces all participants to set the chosen speaker in large video mode. Creates a synced presentation environment.

# Usage

Here's a [demo video](https://www.dropbox.com/s/1nst9b240bkpb8z/demo1.mov?dl=0) showing you a moderated panel, syncing up Jitsi streams.

## UI

![admin-ui](repo-assets/admin-ui.jpg)
![session-panel](repo-assets/session-panel.jpg)
